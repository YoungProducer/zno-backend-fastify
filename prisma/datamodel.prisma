type User {
  id: ID! @id
  email: String! @unique
  password: String!
  role: Role!
  refreshTokens: [Token!]!
}

type Token {
  id: ID! @id
  token: String! @unique
  loginId: String! @unique
  user: User! @relation(link: INLINE)
}

enum Role {
  ADMIN,
  DEFAULT_USER,
}

type Subject {
  id: ID! @id
  name: String! @unique
  isSubSubject: Boolean! @default(value: false)
  parent: Subject @relation(link: INLINE)
  image: String
  config: SubjectConfig
}

type SubjectConfig {
  id: ID! @id
  subject: Subject! @relation(link: INLINE)
  themes: [String!]
  subSubjects: [SubSubject!]
  exams: Exams
}

type SubSubject @embedded {
  subject: Subject! @relation(link: INLINE)
  themes: [String]
}

type Exams @embedded {
  trainings: [String]
  sessions: [String]
}

type TestSuite {
  id: ID! @id
  subject: Subject! @relation(name: "MainSubjectRelation", link: INLINE)
  subSubject: Subject @relation(name: "SubSubjectRelation", link: INLINE)
  theme: String
  session: String
  training: String
  answers: [Answer!]
  tasks: [TestSuiteImage!]! @relation(name: "TasksImagesRelation", link: INLINE)
  explanations: [TestSuiteImage!] @relation(name: "ExplanationImagesRelation", link: INLINE)
  path: String! @unique
}

type TestSuiteImage {
  id: ID! @id
  taskId: Int!
  testSuite: TestSuite! @relation(name: "TasksImagesRelation")
  image: String! @unique
}

type Answer @embedded {
  taskId: Int!
  answer: String!
}



